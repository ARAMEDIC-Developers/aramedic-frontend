
<%- include('../_partials/header') %>

    <div class="dashboard-container">
        <%- include('../_partials/sidebar') %>

        <!-- Contenido Principal -->
        <main id="main-content">
            <%- include('../_partials/sub_header') %>
            <!-- Lista de Notificaciones -->
            <%- include('../_partials/notificaciones') %>

            <%- include('../_partials/modal_bl_fecha') %>

            <section id="calendario" >
                <h2 class="section-title">Calendario re</h2>

                
                <div>
                    <button onclick="openModalCalendario()">Bloquear fechas</button>
                </div>

                <div>
                    <button onclick="openModalCalendario()">Bloquear horas de un d√≠a</button>
                </div>

                <!-- Contenido del calendario -->
                <div class="container">

                    <div class="calendar">
                        <div class="header">
                            <div class="month"></div>
                            <div class="btns">
                                <div class="btn today-btn">
                                    <i class="fas fa-calendar-day"></i>
                                </div>
                                <div class="btn prev-btn">
                                    <i class="fas fa-chevron-left"></i>
                                </div>
                                <div class="btn next-btn">
                                    <i class="fas fa-chevron-right"></i>
                                </div>
                            </div>
                        </div>
                        <div class="weekdays">
                            <div class="day">Dom</div>
                            <div class="day">Lun</div>
                            <div class="day">Mar</div>
                            <div class="day">Mie</div>
                            <div class="day">Jue</div>
                            <div class="day">Vie</div>
                            <div class="day">Sab</div>
                        </div>
                        <div class="days">

                        </div>
                    </div>
                </div>
            </section>


        </main>
    </div>

    <script>
        const session = "<%= JSON.stringify(usuario) %>";
     
            const modalCalendario = document.getElementById("myModal");
            const closeModalCalendarioBtn = document.getElementsByClassName("close-calentario")[0];

            function openModalCalendario(date) {
                modalCalendario.classList.add('active');
            }

            function closeModalCalentario() {
                modalCalendario.classList.remove('active');
            }

            closeModalCalendarioBtn.onclick = closeModalCalentario;

            async function saveModalCalentar(){
                const fechaInicio = document.getElementById("fechaInicio");
                const fechaFinal = document.getElementById("fechaFinal")
                console.log(fechaInicio.value, fechaFinal.value)

                try{

                    const data = {
                        fecha_inicio: fechaInicio.value,
                        fecha_final: fechaFinal.value
                    }

                const response = await fetch('/bloquear-fechas', {  // Cambia '/ruta-del-servidor' por tu URL de destino
                    method: 'POST',
                    credentials: 'include',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                    });

                    console.log(response)
            }catch(error){
                console.log(error)
            }
            }
    </script>

<%- include('../_partials/footer') %>

